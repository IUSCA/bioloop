:::info Prompt
can you define different terms used like group, project, labs, grants, etc and their intended meaning so that I don't associate the meanings I know for these words from other contexts and get confused.
This is a for an app that academic and researchers use for managing academic research data.
:::
## Core Concepts and Terms

### **Lab**

A research group led by a PI (Principal Investigator).

* Represents the primary organizational unit.
* Data products are often generated here. (generated by processing source / raw data from cores)
* Labs may collaborate with other labs or be part of larger centers.

### **Group**

A general term for any **organizational unit** in the system (Labs, Projects, Centers, etc.).

* The app uses “group” as a structural abstraction.
* Helps manage permissions and relationships uniformly.

### **Project**

A **type of group** that’s focused on a specific research effort or data collection activity.

* Contains datasets (source, raw, data product)
* Might be linked to a grant, lab, or core facility.
* Treated like a group in the system for consistency, but with extra metadata (e.g. datasets, project goals).

### **Grant / Program Grant**
Represents a **funding source or umbrella initiative**.

* Can include multiple sub-grants or projects.
* Often associated with multiple labs or cores.
* Useful for tracking where funding is going and which datasets came from which grant.

### **Core**
A **shared resource or facility** (like a genomics core, imaging core).

* Projects may use services from one or more cores.
* Source and Raw data is generated at cores

### **Dataset**
A collection of research data generated by a project or lab.

* Has metadata (e.g. method, date, contributors).
* Can be associated with one or more projects, labs, or grants.



## Access Control Terms

* Permissions: Rules that determine which users can view, edit, or manage a group, project, or dataset.
* Cascade: Whether permissions from a parent group (e.g., a Center) should apply to subgroups or projects.
* Discoverability: Whether a group/project is visible to users not in the group (like a public profile or directory listing).



## User Roles

* User: A general researcher or analyst with access to one or more groups.
* PI (Principal Investigator): Typically owns a lab or grant; can manage users and data under those groups.
* Group Owner: Can approve membership requests and manage permissions.
* Admin: Has elevated permissions to configure the structure and policy of the platform.


## Primary Goals of the System

### 1. Centralized, Hierarchical Organization of Research Entities

* Represent and navigate complex academic structures like Labs, Centers, Grants, and Cores.
* Support nested and flexible group relationships (e.g., Center > Lab > Project).
* Allow different group types to co-exist and interact via hierarchies or tagging.

### 2. Granular and Flexible Access Control

* Manage permissions at multiple levels (Center, Lab, Project, Dataset).
* Enable permission propagation (e.g., a PI at a Center level can view all data in sub-Labs).
* Allow opt-in cascading or selective control (e.g., don’t always inherit permissions).
* Support shared access scenarios, especially for cross-cutting roles like Cores.

### 3. Discoverability and Transparency

* Let users discover groups they might want to collaborate with.
* Provide fine-grained controls over what information is visible (e.g., group name, number of datasets, collaborators).
* Offer a “Discover Groups” page with filtering, sorting, and metadata previews.

### 4. Metadata-Driven Data Understanding

* Display rich metadata for each dataset and project (modality, contributors, protocols).
* Allow drilling down from a Lab or Grant to view all linked datasets or projects with summaries.

### 5. Support for Collaborative and Multi-Grant Projects

* Enable Projects to be linked to multiple Groups (Labs, Grants, Cores).
* Avoid rigid hierarchies where data can only belong to one parent (instead, use tagging/affiliations).

### 6. Usability for a Range of Roles

* PIs: View and manage data across their groups.
* Users: Easily access data they’re authorized for.
* Admins: Define group structures, approve users, and monitor security.
* Core analysts: Aggregate or access data across multiple groups for analysis.

### 7. Scalable and Intuitive Interface

* Provide both a tree view and card/summary view of groups and data.
* Toggle between simplified and detailed views to reduce clutter.
* Design layout to remain usable as group structures grow in complexity.







academic research computing — involving shared infrastructure, collaborative projects, and varying access expectations. Realistic end-to-end use case that incorporates:

* One academic center
* Multiple cores
* Labs, grants, projects
* Source data and derived data products
* A real-world-like permission model and propagation behavior

---

## Real World Use Case

### Setting:

**Harvard Center for Genomic Medicine (HCGM)**

* **Cores**:

  * Bioinformatics Core
  * Genomics Core
  * Imaging Core

* **Labs**:

  * Dr. Alice Wong Lab (Neurology)
  * Dr. Brian Kim Lab (Oncology)
  * Dr. Carla Patel Lab (Immunology)

* **Grants**:

  * NIH P01 “Integrative Brain Disease Omics” (parent grant)

    * Subgrants:

      * Subgrant A: Neurological Cell Atlas (Dr. Wong)
      * Subgrant B: Cancer Genomics (Dr. Kim)
      * Subgrant C: Immune Response Profiling (Dr. Patel)

* **Projects**:

  * Project: “NeuroSeq Atlas” (from Wong Lab, uses Genomics Core)
  * Project: “Cancer Pathways AI” (Kim Lab, uses Imaging Core)
  * Project: “Unified Immune Signature” (joint project across Patel Lab and Core)

---

## Data Flow

1. **Source Data Generation**:

* Cores produce raw data:

  * Genomics Core runs WGS and RNA-seq, creates FASTQ/BAMs.
  * Imaging Core acquires high-res pathology images (NDPI, TIFF).
* These datasets are associated with the Core, the Lab (that submitted the request), and the parent Grant/Subgrant.

2. **Derived Data Products**:

* Labs (e.g., Wong Lab) run workflows (e.g., Cell Ranger, Seurat) to generate:

  * Expression matrices
  * Annotated cell-type labels
  * Image segmentations
* These are stored as “data products,” and often grouped into Projects.

3. **Project-Level Sharing**:

* A curated subset of data products is packaged into a Project (e.g., “NeuroSeq Atlas”) and made accessible to:

  * Collaborators across the center
  * External co-investigators (e.g., UCSF or Broad Institute)

---

## Permissions: Who Can Do What?

Let’s define dataset permissions:

* View (read metadata and contents)
* Download (get raw or product files)
* Update (modify metadata or re-upload)
* Create (upload new data to a group/project)
* Delete

Here’s how permissions can be applied in this ecosystem:

| Entity                                 | Can View | Can Download                    | Can Create                   | Can Update/Delete | Can Grant Permissions |
| -------------------------------------- | -------- | ------------------------------- | ---------------------------- | ----------------- | --------------------- |
| Dataset Owner (Lab PI or Data Steward) | Yes      | Yes                             | Yes                          | Yes               | Yes                   |
| Core Staff (who generated raw data)    | Yes      | Yes (source only)               | Yes (to core-owned datasets) | No                | No                    |
| Collaborating Labs (within center)     | Maybe    | Maybe (if shared)               | Maybe                        | No                | No                    |
| External Collaborators (via project)   | Maybe    | Maybe (only to shared products) | No                           | No                | No                    |
| Center Admin or Data Governance Lead   | Yes      | Yes                             | Yes                          | Yes               | Yes (override)        |

---

## How Permissions Propagate

Permission propagation depends on the relationship between groups, and a set of explicit policies.

Realistic behavior:

1. If Dr. Wong creates a dataset within the Wong Lab group, her lab members automatically inherit View + Download access.

2. If that dataset is also affiliated with the Genomics Core, the Core gets View access to track usage and QC.

3. If the dataset is included in the “NeuroSeq Atlas” project:

* Anyone with access to that project (via sharing or membership) gets View/Download access to the dataset.
* The project owner (Wong Lab) controls who can access and what level.

4. If the dataset is tagged with the P01 grant:

* It doesn’t automatically propagate permissions, but grant admins (if any) may be given audit-level access.

5. Propagation Rules:

* Groups can opt into “permission cascading” to subgroups (e.g., Center → Lab → Project).
* Explicit “sharing links” (group-to-group) override default hierarchy.

---
<!-- cspell: ignore HCGM -->
## Summary of Group Relationships & Permissions

| Group Type     | Example Name   | Owns Data?          | Sets Permissions?                  | Permissions Cascade?          |
| -------------- | -------------- | ------------------- | ---------------------------------- | ----------------------------- |
| Center         | HCGM           | No (aggregates)     | No (default), Yes (admin override) | No by default                 |
| Core           | Genomics Core  | Source data         | Yes (on core-generated data)       | Sometimes (via tags or links) |
| Lab            | Wong Lab       | Source + product    | Yes                                | Yes to members                |
| Grant/Subgrant | P01/Subgrant A | No (tracks funding) | Rarely                             | No                            |
| Project        | NeuroSeq Atlas | Curated products    | Yes                                | Yes (to invited users)        |
